import React from "react";
import { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer } from "recharts";

export default function VulnerabilityCard({ data }) {
  const chartData = data.top_5.map((v, i) => ({ id: `Sys-${i + 1}`, score: v }));

  return (
    <div className="bg-gray-800 rounded-2xl p-6 shadow-lg">
      <h2 className="text-2xl font-semibold mb-4">Vulnerability Scores</h2>
      <p>Mean Score: {data.mean_score.toFixed(3)}</p>

      <div className="h-64 mt-4">
        <ResponsiveContainer width="100%" height="100%">
          <BarChart data={chartData}>
            <XAxis dataKey="id" />
            <YAxis />
            <Tooltip />
            <Bar dataKey="score" fill="#60a5fa" />
          </BarChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
}
